#!/bin/bash

function print_10.0.7_config {

  cat << __EOF
zimbraAPNSProduction
zimbraAccountExtraObjectClass
zimbraActiveSyncEhcacheExpiration
zimbraActiveSyncEhcacheHeapSize
zimbraActiveSyncEhcacheMaxDiskSize
zimbraAdminAccessControlMech
zimbraAdminConsoleCatchAllAddressEnabled
zimbraAdminConsoleDNSCheckEnabled
zimbraAdminConsoleLDAPAuthEnabled
zimbraAdminConsoleSkinEnabled
zimbraAdminImapImportNumThreads
zimbraAdminPort
zimbraAdminProxyPort
zimbraAdminSieveFeatureVariablesEnabled
zimbraAdminURL
zimbraAllowNonLDHCharsInDomain
zimbraAmavisDSPAMEnabled
zimbraAmavisEnableDKIMVerification
zimbraAmavisFinalSpamDestiny
zimbraAmavisLogLevel
zimbraAmavisMaxServers
zimbraAmavisOriginatingBypassSA
zimbraAmavisOutboundDisclaimersOnly
zimbraAmavisQuarantineAccount
zimbraAmavisSALogLevel
zimbraAntispamExtractionBatchDelay
zimbraAntispamExtractionBatchSize
zimbraAppSpecificPasswordLength
zimbraArchiveEnabled
zimbraAttachmentsBlocked
zimbraAttachmentsIndexedTextLimit
zimbraAttachmentsScanClass
zimbraAttachmentsScanEnabled
zimbraAttachmentsViewInHtmlOnly
zimbraAuthTokenKey
zimbraAuthTokenNotificationInterval
zimbraAuthTokenValidityValueEnabled
zimbraAutoProvBatchSize
zimbraAutoProvNotificationBody
zimbraAutoProvNotificationSubject
zimbraAutoProvPollingInterval
zimbraAutoSubmittedNullReturnPath
zimbraBackupAutoGroupedInterval
zimbraBackupAutoGroupedNumGroups
zimbraBackupAutoGroupedThrottled
zimbraBackupBlobsCompressType
zimbraBackupCrontabConfig
zimbraBackupMinFreeSpace
zimbraBackupMode
zimbraBackupObjectLevelEnabled
zimbraBackupReportEmailRecipients
zimbraBackupReportEmailSender
zimbraBackupReportEmailSubjectPrefix
zimbraBackupRetentionDays
zimbraBackupSkipBlobs
zimbraBackupSkipHsmBlobs
zimbraBackupSkipSearchIndex
zimbraBackupStartDay
zimbraBackupStartTime
zimbraBackupSyncEnabled
zimbraBackupSyncUsersEnabled
zimbraBackupTarget
zimbraBasicAuthRealm
zimbraCBPolicydAccessControlEnabled
zimbraCBPolicydAccountingEnabled
zimbraCBPolicydAmavisEnabled
zimbraCBPolicydBindPort
zimbraCBPolicydBypassMode
zimbraCBPolicydBypassTimeout
zimbraCBPolicydCheckHeloEnabled
zimbraCBPolicydCheckSPFEnabled
zimbraCBPolicydGreylistingBlacklistMsg
zimbraCBPolicydGreylistingDeferMsg
zimbraCBPolicydGreylistingEnabled
zimbraCBPolicydGreylistingTrainingEnabled
zimbraCBPolicydLogLevel
zimbraCBPolicydMaxRequests
zimbraCBPolicydMaxServers
zimbraCBPolicydMaxSpareServers
zimbraCBPolicydMinServers
zimbraCBPolicydMinSpareServers
zimbraCBPolicydQuotasEnabled
zimbraCBPolicydTimeoutBusy
zimbraCBPolicydTimeoutIdle
zimbraCalendarCalDavCalendarAutoScheduleEnabled
zimbraCalendarCalDavClearTextPasswordEnabled
zimbraCalendarCalDavDefaultCalendarId
zimbraCalendarCalDavDisableFreebusy
zimbraCalendarCalDavDisableScheduling
zimbraCalendarCalDavUseDistinctAppointmentAndToDoCollection
zimbraCalendarCompatibilityMode
zimbraCalendarRecurrenceDailyMaxDays
zimbraCalendarRecurrenceMaxInstances
zimbraCalendarRecurrenceMonthlyMaxMonths
zimbraCalendarRecurrenceOtherFrequencyMaxYears
zimbraCalendarRecurrenceWeeklyMaxWeeks
zimbraCalendarRecurrenceYearlyMaxYears
zimbraCalendarResourceExtraObjectClass
zimbraCertAuthorityCertSelfSigned
zimbraCertAuthorityKeySelfSigned
zimbraChatAllowUnencryptedPassword
zimbraChatConversationAuditEnabled
zimbraChatServiceEnabled
zimbraChatXmppPort
zimbraChatXmppSslPort
zimbraChatXmppSslPortEnabled
zimbraClamAVBindAddress
zimbraClamAVDatabaseMirror
zimbraClamAVListenPort
zimbraClamAVMaxThreads
zimbraClamAVSafeBrowsing
zimbraClientTypeRegex
zimbraClusterType
zimbraCommunityHomeURL
zimbraCommunityUsernameMapping
zimbraConfiguredServerIDForBlobDirEnabled
zimbraContactHiddenAttributes
zimbraContactRankingTableRefreshInterval
zimbraContactSearchDecomposition
zimbraConvertPoolTimeout
zimbraCsrfRefererCheckEnabled
zimbraCsrfTokenCheckEnabled
zimbraCsrfTokenKey
zimbraDNSTCPUpstream
zimbraDNSUseTCP
zimbraDNSUseUDP
zimbraDataSourceConnectTimeout
zimbraDataSourceConnectionType
zimbraDataSourceReadTimeout
zimbraDatabaseSlowSqlThreshold
zimbraDefaultAnalyzerStopWords
zimbraDefaultDomainName
zimbraDocumentEditingCallbackPort
zimbraDomainAggregateQuota
zimbraDomainAggregateQuotaPolicy
zimbraDomainAggregateQuotaWarnPercent
zimbraDomainExtraObjectClass
zimbraDomainMandatoryMailSignatureEnabled
zimbraEmptyFolderOpTimeout
zimbraEphemeralBackendURL
zimbraExportMaxDays
zimbraExtensionBindPort
zimbraExternalAccountProvisioningKey
zimbraExternalAccountStatusCheckInterval
zimbraExternalShareInvitationUrlExpiration
zimbraFeatureContactBackupFrequency
zimbraFeatureContactBackupLifeTime
zimbraFileUploadMaxSize
zimbraFileUploadMaxSizePerFile
zimbraFreebusyExchangeCachedInterval
zimbraFreebusyExchangeCachedIntervalStart
zimbraFreebusyExchangeServerType
zimbraFreebusyPropagationRetryInterval
zimbraGCMUrl
zimbraGalAlwaysIncludeLocalCalendarResources
zimbraGalAutoCompleteLdapFilter
zimbraGalGroupIndicatorEnabled
zimbraGalInternalSearchBase
zimbraGalLdapAttrMap
zimbraGalLdapFilterDef
zimbraGalLdapPageSize
zimbraGalLdapValueMap
zimbraGalMaxResults
zimbraGalSyncLdapPageSize
zimbraGalSyncMaxConcurrentClients
zimbraGalSyncSizeLimit
zimbraGalSyncTimestampFormat
zimbraGalTokenizeAutoCompleteKey
zimbraGalTokenizeSearchKey
zimbraGlobalBackupEnabled
zimbraHABMemberLdapAttrMap
zimbraHsmAge
zimbraHsmBatchSize
zimbraHsmMovePreviousRevisions
zimbraHsmPolicy
zimbraHttpCompressionEnabled
zimbraHttpConnectorMaxIdleTimeMillis
zimbraHttpContextPathBasedThreadPoolBalancingFilterRules
zimbraHttpDebugHandlerEnabled
zimbraHttpDosFilterDelayMillis
zimbraHttpDosFilterMaxRequestsPerSec
zimbraHttpHeaderCacheSize
zimbraHttpMaxFormContentSize
zimbraHttpNumThreads
zimbraHttpOutputBufferSize
zimbraHttpRequestHeaderSize
zimbraHttpResponseHeaderSize
zimbraHttpSSLNumThreads
zimbraHttpThreadPoolMaxIdleTimeMillis
zimbraHttpThrottleSafeIPs
zimbraIPMode
zimbraImapActiveSessionEhcacheMaxDiskSize
zimbraImapBindOnStartup
zimbraImapBindPort
zimbraImapCleartextLoginEnabled
zimbraImapDisplayMailFoldersOnly
zimbraImapExposeVersionOnBanner
zimbraImapInactiveSessionCacheMaxDiskSize
zimbraImapInactiveSessionEhcacheMaxDiskSize
zimbraImapInactiveSessionEhcacheSize
zimbraImapLoadBalancingAlgorithm
zimbraImapMaxConnections
zimbraImapMaxRequestSize
zimbraImapNumThreads
zimbraImapProxyBindPort
zimbraImapSSLBindOnStartup
zimbraImapSSLBindPort
zimbraImapSSLProxyBindPort
zimbraImapSSLServerEnabled
zimbraImapSaslGssapiEnabled
zimbraImapServerEnabled
zimbraImapShutdownGraceSeconds
zimbraInstalledSkin
zimbraInternalSharingCrossDomainEnabled
zimbraInvalidLoginFilterDelayInMinBetwnReqBeforeReinstating
zimbraInvalidLoginFilterMaxFailedLogin
zimbraInvalidLoginFilterMaxSizeOfFailedIpDb
zimbraInvalidLoginFilterReinstateIpTaskIntervalInMin
zimbraItemActionBatchSize
zimbraLDAPSchemaVersion
zimbraLastLogonTimestampFrequency
zimbraLastPurgeMaxDuration
zimbraLdapGalSyncDisabled
zimbraLdapGentimeFractionalSecondsEnabled
zimbraLmtpBindOnStartup
zimbraLmtpBindPort
zimbraLmtpExposeVersionOnBanner
zimbraLmtpLHLORequired
zimbraLmtpNumThreads
zimbraLmtpPermanentFailureWhenOverQuota
zimbraLmtpServerEnabled
zimbraLmtpShutdownGraceSeconds
zimbraLogHostname
zimbraLogRawLifetime
zimbraLogSummaryLifetime
zimbraLogToSyslog
zimbraLowestSupportedAuthVersion
zimbraMailClearTextPasswordEnabled
zimbraMailContentMaxSize
zimbraMailDiskStreamingThreshold
zimbraMailDomainQuota
zimbraMailEmptyFolderBatchSize
zimbraMailEmptyFolderBatchThreshold
zimbraMailFileDescriptorBufferSize
zimbraMailFileDescriptorCacheSize
zimbraMailKeepOutWebCrawlers
zimbraMailPort
zimbraMailProxyMaxFails
zimbraMailProxyPort
zimbraMailProxyReconnectTimeout
zimbraMailPurgeBatchSize
zimbraMailPurgeSleepInterval
zimbraMailRedirectSetEnvelopeSender
zimbraMailReferMode
zimbraMailReportEnabled
zimbraMailSSLClientCertMode
zimbraMailSSLClientCertOCSPEnabled
zimbraMailSSLClientCertPort
zimbraMailSSLClientCertPrincipalMap
zimbraMailSSLClientCertPrincipalMapLdapFilterEnabled
zimbraMailSSLPort
zimbraMailSSLProxyClientCertPort
zimbraMailSSLProxyPort
zimbraMailSieveNotifyActionRFCCompliant
zimbraMailSieveScriptMaxSize
zimbraMailTrustedIP
zimbraMailURL
zimbraMailUncompressedCacheMaxBytes
zimbraMailUncompressedCacheMaxFiles
zimbraMailUseDirectBuffers
zimbraMailboxMoveFailedCleanupTaskInterval
zimbraMailboxMoveSkipBlobs
zimbraMailboxMoveSkipHsmBlobs
zimbraMailboxMoveSkipSearchIndex
zimbraMailboxMoveTempDir
zimbraMailboxThrottleReapInterval
zimbraMailboxdSSLProtocols
zimbraMailboxdSSLRenegotiationAllowed
zimbraMemcachedBindPort
zimbraMemcachedClientBinaryProtocolEnabled
zimbraMemcachedClientExpirySeconds
zimbraMemcachedClientHashAlgorithm
zimbraMemcachedClientTimeoutMillis
zimbraMessageCacheSize
zimbraMessageChannelEnabled
zimbraMessageChannelPort
zimbraMessageIdDedupeCacheSize
zimbraMessageIdDedupeCacheTimeout
zimbraMilterBindPort
zimbraMilterMaxConnections
zimbraMilterNumThreads
zimbraMilterServerEnabled
zimbraMobileMaxMessageSize
zimbraMobileMetadataMaxSizeEnabled
zimbraMobileMetadataRetentionPolicy
zimbraMtaAddressVerifyNegativeRefreshTime
zimbraMtaAddressVerifyPollCount
zimbraMtaAddressVerifyPollDelay
zimbraMtaAddressVerifyPositiveRefreshTime
zimbraMtaAliasMaps
zimbraMtaAlwaysAddMissingHeaders
zimbraMtaAntiSpamLockMethod
zimbraMtaAuthEnabled
zimbraMtaAuthPort
zimbraMtaAuthTarget
zimbraMtaBlockedExtension
zimbraMtaBlockedExtensionWarnAdmin
zimbraMtaBlockedExtensionWarnRecipient
zimbraMtaBounceNoticeRecipient
zimbraMtaBounceQueueLifetime
zimbraMtaBrokenSaslAuthClients
zimbraMtaCanonicalMaps
zimbraMtaCommandDirectory
zimbraMtaCommonBlockedExtension
zimbraMtaDaemonDirectory
zimbraMtaDefaultProcessLimit
zimbraMtaDelayWarningTime
zimbraMtaDnsLookupsEnabled
zimbraMtaEnableSmtpdPolicyd
zimbraMtaHeaderChecks
zimbraMtaHopcountLimit
zimbraMtaInFlowDelay
zimbraMtaLmdbMapSize
zimbraMtaLmtpConnectionCacheTimeLimit
zimbraMtaLmtpHostLookup
zimbraMtaLmtpTlsCiphers
zimbraMtaLmtpTlsLoglevel
zimbraMtaLmtpTlsMandatoryCiphers
zimbraMtaLmtpTlsMandatoryProtocols
zimbraMtaLmtpTlsProtocols
zimbraMtaLmtpTlsSecurityLevel
zimbraMtaMailqPath
zimbraMtaManpageDirectory
zimbraMtaMaxMessageSize
zimbraMtaMaxUse
zimbraMtaMaximalBackoffTime
zimbraMtaMaximalQueueLifetime
zimbraMtaMilterCommandTimeout
zimbraMtaMilterConnectTimeout
zimbraMtaMilterContentTimeout
zimbraMtaMilterDefaultAction
zimbraMtaMinimalBackoffTime
zimbraMtaMyDestination
zimbraMtaNewaliasesPath
zimbraMtaNotifyClasses
zimbraMtaPolicyTimeLimit
zimbraMtaPostscreenAccessList
zimbraMtaPostscreenBareNewlineAction
zimbraMtaPostscreenBareNewlineEnable
zimbraMtaPostscreenBareNewlineTTL
zimbraMtaPostscreenBlacklistAction
zimbraMtaPostscreenCacheCleanupInterval
zimbraMtaPostscreenCacheRetentionTime
zimbraMtaPostscreenCommandCountLimit
zimbraMtaPostscreenDnsblAction
zimbraMtaPostscreenDnsblMaxTTL
zimbraMtaPostscreenDnsblMinTTL
zimbraMtaPostscreenDnsblSites
zimbraMtaPostscreenDnsblTTL
zimbraMtaPostscreenDnsblThreshold
zimbraMtaPostscreenDnsblTimeout
zimbraMtaPostscreenDnsblWhitelistThreshold
zimbraMtaPostscreenGreetAction
zimbraMtaPostscreenGreetTTL
zimbraMtaPostscreenNonSmtpCommandAction
zimbraMtaPostscreenNonSmtpCommandEnable
zimbraMtaPostscreenNonSmtpCommandTTL
zimbraMtaPostscreenPipeliningAction
zimbraMtaPostscreenPipeliningEnable
zimbraMtaPostscreenPipeliningTTL
zimbraMtaPostscreenWatchdogTimeout
zimbraMtaPostscreenWhitelistInterfaces
zimbraMtaPropagateUnmatchedExtensions
zimbraMtaQueueDirectory
zimbraMtaQueueRunDelay
zimbraMtaRestriction
zimbraMtaSaslAuthEnable
zimbraMtaSaslSmtpdMechList
zimbraMtaSendmailPath
zimbraMtaSmtpCnameOverridesServername
zimbraMtaSmtpDnsSupportLevel
zimbraMtaSmtpHeloName
zimbraMtaSmtpSaslAuthEnable
zimbraMtaSmtpSaslSecurityOptions
zimbraMtaSmtpTlsCiphers
zimbraMtaSmtpTlsDaneInsecureMXPolicy
zimbraMtaSmtpTlsLoglevel
zimbraMtaSmtpTlsMandatoryCiphers
zimbraMtaSmtpTlsMandatoryProtocols
zimbraMtaSmtpTlsProtocols
zimbraMtaSmtpTlsSecurityLevel
zimbraMtaSmtpTransportRateDelay
zimbraMtaSmtpdBanner
zimbraMtaSmtpdClientAuthRateLimit
zimbraMtaSmtpdClientPortLogging
zimbraMtaSmtpdClientRestrictions
zimbraMtaSmtpdDataRestrictions
zimbraMtaSmtpdErrorSleepTime
zimbraMtaSmtpdHardErrorLimit
zimbraMtaSmtpdHeloRequired
zimbraMtaSmtpdProxyTimeout
zimbraMtaSmtpdRejectUnlistedRecipient
zimbraMtaSmtpdRejectUnlistedSender
zimbraMtaSmtpdSaslAuthenticatedHeader
zimbraMtaSmtpdSaslSecurityOptions
zimbraMtaSmtpdSaslTlsSecurityOptions
zimbraMtaSmtpdSenderLoginMaps
zimbraMtaSmtpdSenderRestrictions
zimbraMtaSmtpdSoftErrorLimit
zimbraMtaSmtpdTlsAskCcert
zimbraMtaSmtpdTlsCcertVerifydepth
zimbraMtaSmtpdTlsCiphers
zimbraMtaSmtpdTlsLoglevel
zimbraMtaSmtpdTlsMandatoryCiphers
zimbraMtaSmtpdTlsMandatoryProtocols
zimbraMtaSmtpdTlsProtocols
zimbraMtaSmtpdTlsReceivedHeader
zimbraMtaSmtpdVirtualTransport
zimbraMtaStpdSoftErrorLimit
zimbraMtaTlsAppendDefaultCA
zimbraMtaTlsAuthOnly
zimbraMtaTlsSecurityLevel
zimbraMtaTransportMaps
zimbraMtaUnverifiedRecipientDeferCode
zimbraMtaVirtualAliasDomains
zimbraMtaVirtualAliasExpansionLimit
zimbraMtaVirtualAliasMaps
zimbraMtaVirtualMailboxDomains
zimbraMtaVirtualMailboxMaps
zimbraNetworkActivation
zimbraNetworkAdminEnabled
zimbraNetworkAdminNGEnabled
zimbraNetworkLicense
zimbraNetworkMobileNGEnabled
zimbraNetworkModulesNGEnabled
zimbraNotebookFolderCacheSize
zimbraNotebookMaxCachedTemplatesPerFolder
zimbraNotebookPageCacheSize
zimbraNotifyBindPort
zimbraNotifySSLBindPort
zimbraNotifySSLServerEnabled
zimbraNotifyServerEnabled
zimbraOpenImapFolderRequestChunkSize
zimbraOpenidConsumerStatelessModeEnabled
zimbraPop3BindOnStartup
zimbraPop3BindPort
zimbraPop3CleartextLoginEnabled
zimbraPop3ExposeVersionOnBanner
zimbraPop3MaxConnections
zimbraPop3NumThreads
zimbraPop3ProxyBindPort
zimbraPop3SSLBindOnStartup
zimbraPop3SSLBindPort
zimbraPop3SSLProxyBindPort
zimbraPop3SSLServerEnabled
zimbraPop3SaslGssapiEnabled
zimbraPop3ServerEnabled
zimbraPop3ShutdownGraceSeconds
zimbraPrevFoldersToTrackMax
zimbraPreviousEphemeralBackendURL
zimbraProduct
zimbraPurgedConversationsQueueSize
zimbraRedoLogArchiveDir
zimbraRedoLogCrashRecoveryLookbackSec
zimbraRedoLogDeleteOnRollover
zimbraRedoLogEnabled
zimbraRedoLogFsyncIntervalMS
zimbraRedoLogLogPath
zimbraRedoLogRolloverFileSizeKB
zimbraRedoLogRolloverHardMaxFileSizeKB
zimbraRedoLogRolloverMinFileAge
zimbraRegexMaxAccessesWhenMatching
zimbraRemoteImapBindPort
zimbraRemoteImapSSLBindPort
zimbraRemoteImapSSLServerEnabled
zimbraRemoteImapServerEnabled
zimbraRemoteManagementCommand
zimbraRemoteManagementPort
zimbraRemoteManagementPrivateKeyPath
zimbraRemoteManagementUser
zimbraReverseProxyAcceptMutex
zimbraReverseProxyAdminEnabled
zimbraReverseProxyAdminPortAttribute
zimbraReverseProxyAuthWaitInterval
zimbraReverseProxyAvailableLookupTargets
zimbraReverseProxyCacheEntryTTL
zimbraReverseProxyCacheFetchTimeout
zimbraReverseProxyCacheReconnectInterval
zimbraReverseProxyClientCertMode
zimbraReverseProxyConnectTimeout
zimbraReverseProxyDnsLookupInServerEnabled
zimbraReverseProxyDomainNameAttribute
zimbraReverseProxyDomainNameQuery
zimbraReverseProxyExactServerVersionCheck
zimbraReverseProxyExternalRouteIncludeOriginalAuthusername
zimbraReverseProxyGenConfigPerVirtualHostname
zimbraReverseProxyHttpEnabled
zimbraReverseProxyHttpPortAttribute
zimbraReverseProxyHttpSSLPortAttribute
zimbraReverseProxyIPLoginImapLimit
zimbraReverseProxyIPLoginImapLimitTime
zimbraReverseProxyIPLoginLimit
zimbraReverseProxyIPLoginLimitTime
zimbraReverseProxyIPLoginPop3Limit
zimbraReverseProxyIPLoginPop3LimitTime
zimbraReverseProxyIPThrottleWhitelistTime
zimbraReverseProxyImapEnabledCapability
zimbraReverseProxyImapExposeVersionOnBanner
zimbraReverseProxyImapPortAttribute
zimbraReverseProxyImapSSLPortAttribute
zimbraReverseProxyImapSaslGssapiEnabled
zimbraReverseProxyImapSaslPlainEnabled
zimbraReverseProxyImapStartTlsMode
zimbraReverseProxyInactivityTimeout
zimbraReverseProxyIpThrottleMsg
zimbraReverseProxyLogLevel
zimbraReverseProxyLookupTarget
zimbraReverseProxyMailEnabled
zimbraReverseProxyMailHostAttribute
zimbraReverseProxyMailHostQuery
zimbraReverseProxyMailImapEnabled
zimbraReverseProxyMailImapsEnabled
zimbraReverseProxyMailPop3Enabled
zimbraReverseProxyMailPop3sEnabled
zimbraReverseProxyPassErrors
zimbraReverseProxyPop3EnabledCapability
zimbraReverseProxyPop3ExposeVersionOnBanner
zimbraReverseProxyPop3PortAttribute
zimbraReverseProxyPop3SSLPortAttribute
zimbraReverseProxyPop3SaslGssapiEnabled
zimbraReverseProxyPop3SaslPlainEnabled
zimbraReverseProxyPop3StartTlsMode
zimbraReverseProxyPortQuery
zimbraReverseProxyRouteLookupTimeout
zimbraReverseProxyRouteLookupTimeoutCache
zimbraReverseProxySNIEnabled
zimbraReverseProxySSLCiphers
zimbraReverseProxySSLECDHCurve
zimbraReverseProxySSLProtocols
zimbraReverseProxySSLSessionCacheSize
zimbraReverseProxySSLSessionTimeout
zimbraReverseProxySSLToUpstreamEnabled
zimbraReverseProxySendImapId
zimbraReverseProxySendPop3Xoip
zimbraReverseProxyStrictServerNameEnabled
zimbraReverseProxyUpstreamConnectTimeout
zimbraReverseProxyUpstreamFairShmSize
zimbraReverseProxyUpstreamLoginServers
zimbraReverseProxyUpstreamPollingTimeout
zimbraReverseProxyUpstreamReadTimeout
zimbraReverseProxyUpstreamSendTimeout
zimbraReverseProxyUserLoginLimit
zimbraReverseProxyUserLoginLimitTime
zimbraReverseProxyUserThrottleMsg
zimbraReverseProxyWorkerConnections
zimbraReverseProxyWorkerProcesses
zimbraReverseProxyXmppBoshEnabled
zimbraReverseProxyXmppBoshLocalHttpBindURL
zimbraReverseProxyXmppBoshSSL
zimbraReverseProxyXmppBoshTimeout
zimbraReverseProxyZmlookupCachingEnabled
zimbraSMMultiReaderEnabled
zimbraSMRuntimeSwitchEnabled
zimbraSSDBResourcePoolSize
zimbraSSDBResourcePoolTimeout
zimbraSSLDHParam
zimbraSSLExcludeCipherSuites
zimbraSaslGssapiRequiresTls
zimbraScheduledTaskInitialRetryDelay
zimbraScheduledTaskMaxRetries
zimbraScheduledTaskMaxRetryDelay
zimbraScheduledTaskNumThreads
zimbraScheduledTaskRetry
zimbraScheduledTaskRetryPolicy
zimbraShareNotificationMtaAuthRequired
zimbraShareNotificationMtaConnectionType
zimbraShareNotificationMtaEnabled
zimbraSharingUpdatePublishInterval
zimbraShortTermAllEffectiveRightsCacheExpiration
zimbraShortTermAllEffectiveRightsCacheSize
zimbraShortTermGranteeCacheExpiration
zimbraShortTermGranteeCacheSize
zimbraSieveFeatureVariablesEnabled
zimbraSieveRejectEnabled
zimbraSkinLogoURL
zimbraSmimeOCSPEnabled
zimbraSmimePublicCertificateExtensions
zimbraSmimeUserCertificateExtensions
zimbraSmtpHostname
zimbraSmtpPort
zimbraSmtpSendAddAuthenticatedUser
zimbraSmtpSendAddMailer
zimbraSmtpSendAddOriginatingIP
zimbraSmtpSendPartial
zimbraSmtpTimeout
zimbraSoapExposeVersion
zimbraSoapRequestMaxSize
zimbraSpamCheckEnabled
zimbraSpamHeader
zimbraSpamHeaderValue
zimbraSpamIsNotSpamAccount
zimbraSpamIsSpamAccount
zimbraSpamKillPercent
zimbraSpamReportEnvelopeFrom
zimbraSpamReportSenderHeader
zimbraSpamReportTypeHam
zimbraSpamReportTypeHeader
zimbraSpamReportTypeSpam
zimbraSpamSubjectTag
zimbraSpamTagPercent
zimbraSpamTrainingSubjectPrefix
zimbraSpamTrashAlias
zimbraSpellAvailableDictionary
zimbraSpnegoAuthEnabled
zimbraStatThreadNamePrefix
zimbraTableMaintenanceGrowthFactor
zimbraTableMaintenanceMaxRows
zimbraTableMaintenanceMinRows
zimbraTableMaintenanceOperation
zimbraThreadMonitorEnabled
zimbraTwoFactorAuthHashAlgorithm
zimbraTwoFactorAuthScratchCodeEncoding
zimbraTwoFactorAuthSecretEncoding
zimbraTwoFactorAuthSecretLength
zimbraTwoFactorAuthTrustedDeviceTokenKey
zimbraTwoFactorCodeLength
zimbraTwoFactorScratchCodeLength
zimbraTwoFactorTimeWindowLength
zimbraTwoFactorTimeWindowOffset
zimbraVersionCheckInterval
zimbraVersionCheckLastAttempt
zimbraVersionCheckLastResponse
zimbraVersionCheckLastSuccess
zimbraVersionCheckNotificationBody
zimbraVersionCheckNotificationEmail
zimbraVersionCheckNotificationEmailFrom
zimbraVersionCheckNotificationSubject
zimbraVersionCheckSendNotifications
zimbraVersionCheckServer
zimbraVersionCheckURL
zimbraVirusBlockEncryptedArchive
zimbraVirusCheckEnabled
zimbraVirusDefinitionsUpdateFrequency
zimbraVirusWarnAdmin
zimbraVirusWarnRecipient
zimbraWebClientMaxInputBufferLength
zimbraWebClientStaySignedInDisabled
zimbraWebClientSupportedHelps
zimbraWebGzipEnabled
zimbraXMPPEnabled
zimbraZimletDataSensitiveInMixedModeDisabled
zimbraZimletJspEnabled
__EOF

}

function usage {

  $0

}

function getConfigValues {

ldapsearch -x -H $ldap_master_url -D "uid=zimbra,cn=admins,cn=zimbra" -w $zimbra_ldap_password -b "cn=config,cn=zimbra" -s sub "(objectClass=zimbraGlobalConfig)" \
  | grep -E '^zimbra.*:' | awk -F ':' '{print $1}' | sort | uniq

}

function getLdapDif {

  _LDAP_ENTRIES_TO_DELETE_FILE=$1

  for n_ldap_entry in $(cat ${_LDAP_ENTRIES_TO_DELETE_FILE}); do
  cat << __EOF
dn: cn=config,cn=zimbra
changetype: modify
delete: ${n_ldap_entry}

__EOF
  done

}

function applyDowngrade {

  _LDAP_ENTRIES_TO_DELETE_LDIF_FILE=$1

  zmcontrol stop
  ldap start

  ldapmodify -x -H $ldap_master_url -D "uid=zimbra,cn=admins,cn=zimbra" -w $zimbra_ldap_password -f ${_LDAP_ENTRIES_TO_DELETE_LDIF_FILE}

  ldap stop
  zmcontrol start

}

if [ "x$(id -u -n)" != "xzimbra" ]; then
  echo "Please run as ZIMBRA user"
  echo "Exiting..."
  exit 1
fi

###

source ~/bin/zmshutil
zmsetvars

print_10.0.7_config > /tmp/downgrade-data-10.0.7.txt
getConfigValues > /tmp/downgrade-data-current.txt

diff -urN /tmp/downgrade-data-10.0.7.txt /tmp/downgrade-data-current.txt | tail -n +3 | grep -E '^\+' | awk -F '+' '{print $2}' > /tmp/downgrade-ldap-entries-to-delete.txt

getLdapDif /tmp/downgrade-ldap-entries-to-delete.txt > /tmp/downgrade-ldap-entries-to-delete.ldif


read -p "This will restart Zimbra. Are you sure?" -r restart_choice
if [[ $restart_choice =~ ^[Yy]$ ]] ; then
  echo "Processing..."
  # applyDowngrade /tmp/downgrade-ldap-entries-to-delete.ldif
  echo "...Done."
else
  echo "Aborted by the user."
fi
